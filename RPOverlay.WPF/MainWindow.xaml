<Window x:Class="RPOverlay.WPF.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:models="clr-namespace:RPOverlay.Core.Models;assembly=RPOverlay.Core"
        mc:Ignorable="d"
        Title="Path Overlay"
        WindowStyle="None"
        AllowsTransparency="True"
        Background="Transparent"
        Topmost="True"
        ShowInTaskbar="False"
        ResizeMode="NoResize"
        Visibility="Visible"
        WindowStartupLocation="Manual"
        SizeToContent="WidthAndHeight">
    <Grid Background="Transparent">
        <Border HorizontalAlignment="Right"
                VerticalAlignment="Top"
                Margin="24"
                Padding="16"
                CornerRadius="12"
                Background="#CC1E1E1E">
            <StackPanel>
                <!-- Draggable header -->
                <Border Background="#22FFFFFF" 
                        Padding="8,4"
                        Margin="-16,-16,-16,8"
                        CornerRadius="12,12,0,0"
                        MouseLeftButtonDown="TitleBar_MouseLeftButtonDown"
                        Cursor="SizeAll">
                    <StackPanel>
                        <TextBlock Text="The Path RP"
                                   FontWeight="SemiBold"
                                   Foreground="White"
                                   FontSize="18" />
                        <TextBlock Text="Sjukhus-overlay (Dra för att flytta)"
                                   Margin="0,2,0,0"
                                   Foreground="#FFD0D0D0"
                                   FontSize="10" />
                    </StackPanel>
                </Border>
                
                <Border Background="#33000000"
                        Padding="8"
                        CornerRadius="6"
                        Margin="0,0,0,8">
                    <TextBlock Text="{Binding HotkeyHint, StringFormat=Toggle: {0}}"
                               Foreground="#FFB0B0B0"
                               FontSize="12" />
                </Border>
                <ItemsControl ItemsSource="{Binding Buttons}">
                    <ItemsControl.ItemsPanel>
                        <ItemsPanelTemplate>
                            <StackPanel />
                        </ItemsPanelTemplate>
                    </ItemsControl.ItemsPanel>
                    <ItemsControl.ItemTemplate>
                        <DataTemplate DataType="{x:Type models:OverlayButton}">
                            <Button Content="{Binding Label}"
                                    Tag="{Binding}"
                                    Click="PresetButton_Click"
                                    Margin="0,4,0,0"
                                    HorizontalContentAlignment="Left"
                                    FontSize="14"
                                    Padding="12,10"
                                    Background="#FF2F9DFF"
                                    Foreground="White"
                                    BorderThickness="0"
                                    Cursor="Hand" />
                        </DataTemplate>
                    </ItemsControl.ItemTemplate>
                </ItemsControl>
                <TextBlock Text="Snabbanteckningar"
                           Margin="0,12,0,4"
                           Foreground="#FFB0B0B0"
                           FontSize="12" />
                <TextBox x:Name="NoteTextBox"
                         AcceptsReturn="True"
                         MinWidth="240"
                         MinHeight="80"
                         TextWrapping="Wrap"
                         Background="#FF1C1C1C"
                         Foreground="White"
                         BorderBrush="#FF2F9DFF"
                         BorderThickness="1"
                         Padding="8"
                         GotFocus="NoteTextBox_GotFocus"
                         LostFocus="NoteTextBox_LostFocus" />
            </StackPanel>
        </Border>
    </Grid>
</Window>
